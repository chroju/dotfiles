{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "ENABLE_TOOL_SEARCH": "true"
  },
  "permissions": {
    "allow": [
      "Read",
      "Glob",
      "Grep",
      "WebFetch",
      "WebSearch",
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(tree:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git status:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(git worktree list:*)",
      "Bash(git pull:*)",
      "Bash(git checkout -b:*)",
      "Bash(git switch:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue view:*)",
      "Bash(gh repo view:*)",
      "Bash(gcalcli:*)",
      "Bash(date:*)"
    ],
    "deny": [
      "Bash(sudo:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./secrets/**)",
      "Read(**/.aws/credentials)",
      "Read(**/.ssh/id_*)",
      "Read(**/.gnupg/**)",
      "Read(**/node_modules/**)",
      "Read(**/.terraform/**)",
      "Read(**/__pycache__/**)",
      "Read(**/venv/**)",
      "Read(**/.venv/**)",
      "Read(**/dist/**)",
      "Read(**/build/**)",
      "Read(**/*.log)"
    ],
    "ask": [
      "Bash(git push:*)",
      "Bash(rm -rf:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh issue create:*)",
      "Bash(gh repo create:*)"
    ],
    "defaultMode": "plan"
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "FILE_PATH=$(jq -r '.tool_input.file_path') && [ -n \"$(tail -c1 \"$FILE_PATH\")\" ] && echo >> \"$FILE_PATH\""
          }
        ]
      },
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | xargs -I {} sed -i '' 's/[[:space:]]*$//' '{}'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "DIR=$(basename \"$(git rev-parse --show-toplevel 2>/dev/null || echo $PWD)\") && BRANCH=$(git branch --show-current 2>/dev/null) && SUBTITLE=\"@$DIR${BRANCH:+ ($BRANCH)}\" && osascript -e \"display notification \\\"✅ Done\\\" with title \\\"Claude Code\\\" subtitle \\\"$SUBTITLE\\\"\""
          },
          {
            "type": "agent",
            "prompt": "トランスクリプトファイルを読み、このセッションで行った作業のサマリーを1-3行で生成してください。そして今日のデイリーノート（Obsidian vault）の ## memo セクション末尾に時刻付きで追記してください。形式: `- **HH:MM** - [Claude] サマリー内容`。Vaultルートは /Users/jutaro.numata/dev/src/github.com/chroju/obsidian/chroju、デイリーノートのパスは Logs/YYYY-NQ/YYYY-MM-DD.md（四半期: 1-3月→1Q, 4-6月→2Q, 7-9月→3Q, 10-12月→4Q）。デイリーノートが存在しない場合は何もしない。stop_hook_activeがtrueの場合も何もしない。",
            "timeout": 60
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "npx -y ccstatusline@latest",
    "padding": 0
  },
  "alwaysThinkingEnabled": false
}